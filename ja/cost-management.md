# コスト管理
**Quickstarts > 11.コスト管理**

今回の学習モジュールでは、NHN Cloudコンソールで組織の利用状況を確認し、予算を設定し、リソースタグを作成して適用する方法を学びます。これにより、組織のクラウドリソースを効果的に管理し、コストを効率的に運営することができます。

![mod_info](https://kr1-api-object-storage.nhncloudservice.com/v1/AUTH_2acdfabf4efe4efc8a04c00b348110c9/cdn_origin/prod_cloud_quickstarts/module_info/%EB%B9%84%EC%9A%A9%20%EA%B4%80%EB%A6%AC.png)
## 学習目標

今回の学習モジュールで学ぶ内容は以下の通りです。

* **組織利用状況の確認**
    * NHN Cloudコンソールで組織の利用状況を確認
    * 組織全体および特定プロジェクトの利用金額照会
    * 個別リソースの利用金額の詳細履歴を確認
* **組織予算管理**
    * 組織の予算を設定し、特定のプロジェクト及びサービス予算の適用方法
    * 予算超過通知の設定
* **リソースタグの活用**
    * NHN Cloudのコンソールで特定のリソースグループを管理するためのリソースタグを作成する
    * リソースタグの適用と利用状況の照会

## 始める前に

今回の学習モジュールを始める前に必要なものは以下の通りです。

* **標準のインターネットブラウザ**
    * Google Chrome、Microsoft Edge、Firefox、Safariなどの最新バージョンのブラウザがインストールされている必要があります。
    * ブラウザの設定でJavaScriptとCookieが有効になっている必要があります。
* **インターネット接続環境**
    * 安定したインターネット接続が必要で、推奨帯域幅は最低5Mbps以上です。
    * HTTPSによる安全な通信が可能であること。
* **会員アカウント**
    * 決済手段を登録したNHN Cloudアカウントが必要です。
    * NHN Cloudポータルにログインする必要があります。

本ガイドは、[10.スケーラビリティとパフォーマンスの最適化](https://docs.nhncloud.com/ja/quickstarts/ja/optimze-performance/)以降の段階から始まります。

## 組織の利用状況と予算管理

### ステップ1.組織の利用状況を確認する

> `MyORG`組織が使用したサービスの詳細利用状況を確認することができます。

1. NHN Cloudコンソール上部のメニューから実習に使用する組織`(MyORG)`、プロジェクト(`MyPRJ)`、そして`韓国(平村)リージョンを`選択します。
1. NHN Cloudコンソール上部のメニューから`MyORGを`クリックします。
2. `MyORG`組織画面上部の**利用状況**タブをクリックします。
3. **サービス**タブで組織全体の組織最終金額を確認し、組織サブに属する`MyPRJを`クリックしてプロジェクト詳細プロジェクト利用金額を確認します。
4. 各リソース項目をクリックして、利用金額の詳細を確認します。

### ステップ2.組織の予算を管理する

> `MyORG`組織の予算情報を追加し、予算超過時に通知を受けるように設定することができます。

1. NHN Cloudコンソール上部にある**組織**タブの`MyORGを`クリックします。
2. `MyORG`組織画面上部の**予算管理**タブをクリックします。
3. **+ 予算の追加を**クリックします。
4. **予算追加**ウィンドウで以下の情報を入力し、**予算追加完了を**クリックします。
    * 予算情報
        * 名前:`MyBudget`
        * 予算:`金額`,`10000`
        * プロジェクト: プロジェクト`全体`
        * サービス：`Compute、Instanceなど7つの`サービス`（基本値）`
    * 通知しきい値
        * しきい値:`1`
        * しきい値基準：`超過時に通知`
        * しきい値基準日：`15日`、基準日に利用状況通知を受信する**チェックを外します。**
    * 通知受信対象
        * `メンバー`、NHN Cloud会員ユーザー情報で登録されたユーザーのメールを**確認した後、Emailチェックボックスを**選択します**。**
5. 追加された予算リストで`MyBudgetの` **予算と利用量を**確認します。

!!! tip "知っておくべきこと"
**\* 予算通知の送信基準**
\* 予算リマインダーは、設定された予算を超えたり、指定したしきい値(基準、基準日)に達した場合、**翌日の午前10時にリマインダーを**受け取ることができます。  
    **\* 予算設定後の確認事項**
\* 予算を設定した後、予算を超過した場合、サービスが自動的に非アクティブ化されたり、ブロックされることはありません。 これは、サービス利用中に中断されないようにするためであり、これにより設定された予算を超える費用が発生する可能性があります。正しく予算を活用するため、適切な予算設定とリソース管理をお勧めします。

## リソースタグの活用

### ステップ1.リソースタグを作成する

1. NHN Cloudコンソール上部のメニューから実習に使用する組織`(MyORG)`をクリックします。
2. `MyORG`組織ダッシュボード内の**組織サービス利用状況から** **Resource Watcherを**クリックします。
3. Resource Watcher画面のタブメニューのうち、[**リソースタグ**]タブをクリックします。
4. **+ リソースタグの作成を**クリックします。
5. **リソースタグ作成**画面で、以下の情報を設定し、**追加を**クリックします。
    * タグキー:`MyInstanceTag`
    * タグ値:`空白の値`
6. **+ リソースタグの作成を**クリックします。
7. **リソースタグ作成**画面で、以下の情報を設定し、**追加を**クリックします。
    * タグキー:`MyStorageTag`
    * タグ値:`空白の値`
8. `MyInstanceTag`リソースタグを選択した後、右側の[**タグの修正]を**クリックします。
9. リソースタグの修正ウィンドウで**+タグ値の追加を**クリックした後、タグ値入力欄に`webserverを`入力して**保存を**クリックします。
10. **+タグ値の追加を**再度クリックして出てくるタグ値入力欄に`dbserverを`入力し、**保存を**クリックします。
11. **OK]を**クリックして、リソースタグの修正ウィンドウを閉じます。
12. `MyStorageTag`リソースタグを選択した後、右側の[**タグの修正]を**クリックします。
13. リソースタグの修正ウィンドウで**+タグ値の追加を**クリックした後、タグ値入力欄に`blockstorageを`入力して**保存を**クリックします。
14. **OK]を**クリックして、リソースタグの修正ウィンドウを閉じます。


### ステップ2.作成したリソースタグを適用します。

> `MyORG`組織が使用しているインスタンス、データベース、ブロックストレージリソースそれぞれにリソースタグを設定します。

1. `MyORG`組織ダッシュボード内の**組織サービス利用状況から** **Resource Watcherを**クリックします。
2. Resource Watcher画面のタブメニューのうち、[**リソース**]タブをクリックします。
3. **リソース名に** `linux-server-basicを`入力して**検索を**クリックします。
4. 検索結果画面で、**リソース名が** `linux-server-basicの`リソースをクリックします。
5. 下部にある**基本情報**分割ウィンドウで、**リソースタグ**項目の**設定を**クリックします。
6. **'linux-server-basic'リソースタグ設定**ウィンドウで下記のように設定後、**[OK**]をクリックします。
    * タグキー:`MyInstanceTag`
    * タグキー: タグ値:`MyInstanceTag: webserver`
7. **初期化を**クリックします。
8.**リソース名から** `mysql-db-basicを`入力して**検索を**クリックします。
9. 検索結果画面で**リソース名の** `mysql-db-basic`リソースをクリックします。
10. 下部にある**基本情報**分割ウィンドウで、**リソースタグ**項目の**設定を**クリックします。
11. `my-sql-basic`リソースタグ設定ウィンドウで下記のように設定後、[**OK**]をクリックします。
    * タグキー:`MyInstanceTag`
    * タグキー: タグ値:`MyInstanceTag: dbserver`
12. **初期化を**クリックします。
13. **リソースタイプに** **全体と**表記されたドロップダウンメニューをクリックし、ブロックストレージを入力します。
14. 検索されたリソースの種類のうち、**ブロックストレージを**クリックしてチェックボックスを選択します。
15. **検索を**クリックします。
16. 検索結果画面で、**リソース名が** `MyBSの`リソースをクリックします。
10. 下部にある**基本情報**分割ウィンドウで、**リソースタグ**項目の**設定を**クリックします。
18. `MyBS`リソースタグ設定ウィンドウで下記のように設定後、[**OK**]をクリックします。
    * タグキー:`MyStorageTag`
    * タグキー: タグ値:`MyStorageTag: blockstorage`

### ステップ3.リソースタグで利用状況を確認する

> リソースタグを活用して`MyORG`組織が使用しているインスタンス、データベース、ブロックストレージリソースの詳細利用状況を確認します。

1. NHN Cloudコンソール上部のメニューから実習に使用する組織`(MyORG)`をクリックします。
2. `MyORG`組織画面で**利用状況**タブをクリックします。
3. **利用状況**画面のタブメニューから「**リソース」**タブをクリックします。
4. 画面内に以下のように設定後、**検索を**クリックします。
    * 照会基準
        * タグキーの選択:`MyInstanceTag`
        * タグ値の選択:`webserver`
5. 下部にリソースタグの基準利用金額を確認します。
    > [参考]参考
    >
    > * リソースタグ利用状況基準
    >     * リソースタグをリソースに適用すると、適用した時点から使用量と利用金額を別途確認することができます。リソース基準で照会される利用金額と実際の課金される金額に差がある場合があります。
    >     * リソースタグ基準利用金額は、リソースタグを適用した翌日の集計時点から確認できます。
6. 画面内に以下のように設定後、**検索を**クリックします。
    * 照会基準
        * タグキーの選択:`MyInstanceTag`
        * タグ値の選択:`dbserver`
7. 下部にリソースタグの基準利用金額を確認します。
8. 画面内に以下のように設定後、**検索を**クリックします。
    * 照会基準
        * タグキーの選択:`MyStorageTag`
        * タグ値の選択:`blockstorage`
9. 下部にリソースタグの基準利用金額を確認します。

## 参考資料

* [通知管理](https://docs.nhncloud.com/ja/nhncloud/ja/console-guide/#_33)
* [NHN Cloudの料金](https://www.nhncloud.com/kr/pricing)
* [リソースタグ](https://docs.nhncloud.com/ja/Governance%20&%20Audit/Resource%20Watcher/ja/console-guide/#_2)

## 前の段階

* [10.拡張性とパフォーマンスの最適化](https://docs.nhncloud.com/ja/quickstarts/ja/optimze-performance/)

## 次のステップ

* [12.リソースの整理と削除](https://docs.nhncloud.com/ja/quickstarts/ja/cleanup-resources/)
